<!-- Kata: https://www.codewars.com/kata/554b4ac871d6813a03000035/train/javascript -->
<!DOCTYPE html>
<html lang="en">


<script>
    function wordMesh(arr) {
        var resultArr = [];
        

        for (let indexArr = 0; indexArr < arr.length - 1; indexArr++) {
            arrWord = [...arr[indexArr]];
            wordLen =arr[indexArr].length;
            foundIndex = 0

            for (let i = 1; i < wordLen + 1; i++) {
                if (isFirstSame(arrWord, i, [...arr[indexArr + 1]])) {
                    
                    foundIndex = i;
                }
            }
            if(foundIndex>0){
                resultArr.push(...[...arrWord].splice(wordLen-foundIndex, wordLen))
            }else{
                return "failed to mesh"; 
            }

        }
        return resultArr.join("");
    }



    const  isFirstSame = (arrWord, index, nextWord)  => {
        return ![...Array(index).keys()].some(i => {
            return arrWord[(arrWord.length) - (index - i)] != nextWord[i]
        });
    }


    arrStr = [
        ['venture',
            'retreat',
            'eatery',
            'rye',
            'yearly',
            'lymphoma',
            'homage',
            'agent',
            'entrails'
        ]
    ]
    arrStr.forEach(element => {

        console.log(wordMesh(element));
    })

</script>

</html>